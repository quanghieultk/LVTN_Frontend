{"ast":null,"code":"import { userConstants } from '../constants/user.constants';\nimport { userService } from '../services/user.service';\nimport { alertActions } from './alert.actions';\nimport { history } from './../helpers/history';\nexport const userActions = {\n  login,\n  logout,\n  register,\n  getAll,\n  changeInfoUser,\n  delete: _delete\n};\n\nfunction login(username, password, from) {\n  return dispatch => {\n    dispatch(request({\n      username\n    }));\n    userService.login(username, password).then(user => {\n      dispatch(success(user.data));\n      history.push(from);\n    }).catch(error => {\n      dispatch(failure(error.toString()));\n      dispatch(alertActions.error(error.toString()));\n    });\n  };\n\n  function request(user) {\n    return {\n      type: userConstants.LOGIN_REQUEST,\n      user\n    };\n  }\n\n  function success(user) {\n    return {\n      type: userConstants.LOGIN_SUCCESS,\n      user\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: userConstants.LOGIN_FAILURE,\n      error\n    };\n  }\n}\n\nfunction changeInfoUser(userId, userInfo) {\n  return dispatch => {\n    userService.updateUser(userId, userInfo).then(user => {\n      dispatch(success(user.data));\n    }, error => {\n      console.log(error);\n    });\n\n    function success(user) {\n      console.log(user);\n      return {\n        type: userConstants.CHANGE_INFO_USER,\n        user\n      };\n    }\n  };\n}\n\nfunction logout() {\n  userService.logout();\n  history.push('/signIn');\n  return {\n    type: userConstants.LOGOUT\n  };\n}\n\nfunction register(user) {\n  return dispatch => {\n    dispatch(request(user));\n    userService.register(user).then(user => {\n      dispatch(success());\n      history.push('/signIn');\n      dispatch(alertActions.success('Registration successful'));\n    }, error => {\n      console.log(error);\n      dispatch(failure(error.toString()));\n      dispatch(alertActions.error(error.toString()));\n    });\n  };\n\n  function request(user) {\n    return {\n      type: userConstants.REGISTER_REQUEST,\n      user\n    };\n  }\n\n  function success(user) {\n    return {\n      type: userConstants.REGISTER_SUCCESS,\n      user\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: userConstants.REGISTER_FAILURE,\n      error\n    };\n  }\n}\n\nfunction getAll() {\n  return dispatch => {\n    dispatch(request());\n    userService.getAll().then(users => dispatch(success(users)), error => dispatch(failure(error.toString())));\n  };\n\n  function request() {\n    return {\n      type: userConstants.GETALL_REQUEST\n    };\n  }\n\n  function success(users) {\n    return {\n      type: userConstants.GETALL_SUCCESS,\n      users\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: userConstants.GETALL_FAILURE,\n      error\n    };\n  }\n} // prefixed function name with underscore because delete is a reserved word in javascript\n\n\nfunction _delete(id) {\n  return dispatch => {\n    dispatch(request(id));\n    userService.delete(id).then(user => dispatch(success(id)), error => dispatch(failure(id, error.toString())));\n  };\n\n  function request(id) {\n    return {\n      type: userConstants.DELETE_REQUEST,\n      id\n    };\n  }\n\n  function success(id) {\n    return {\n      type: userConstants.DELETE_SUCCESS,\n      id\n    };\n  }\n\n  function failure(id, error) {\n    return {\n      type: userConstants.DELETE_FAILURE,\n      id,\n      error\n    };\n  }\n}","map":{"version":3,"sources":["D:/LVTN/LVTN/cuisine-net/src/actions/user.actions.js"],"names":["userConstants","userService","alertActions","history","userActions","login","logout","register","getAll","changeInfoUser","delete","_delete","username","password","from","dispatch","request","then","user","success","data","push","catch","error","failure","toString","type","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","userId","userInfo","updateUser","console","log","CHANGE_INFO_USER","LOGOUT","REGISTER_REQUEST","REGISTER_SUCCESS","REGISTER_FAILURE","users","GETALL_REQUEST","GETALL_SUCCESS","GETALL_FAILURE","id","DELETE_REQUEST","DELETE_SUCCESS","DELETE_FAILURE"],"mappings":"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","sourcesContent":["import { userConstants } from '../constants/user.constants';\r\nimport { userService } from '../services/user.service';\r\nimport { alertActions } from './alert.actions';\r\nimport { history } from './../helpers/history';\r\nexport const userActions = {\r\n    login,\r\n    logout,\r\n    register,\r\n    getAll,\r\n    changeInfoUser,\r\n    delete: _delete,\r\n};\r\n\r\nfunction login(username, password, from) {\r\n    return dispatch => {\r\n        dispatch(request({ username }));\r\n        userService.login(username, password)\r\n            .then(\r\n                user => {\r\n                    dispatch(success(user.data));\r\n                    history.push(from);\r\n                }\r\n            ).catch(\r\n                error => {\r\n                    dispatch(failure(error.toString()));\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.LOGIN_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.LOGIN_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.LOGIN_FAILURE, error } }\r\n}\r\n\r\nfunction changeInfoUser(userId, userInfo) {\r\n    return dispatch => {\r\n    userService.updateUser(userId, userInfo)\r\n        .then(\r\n            user => {\r\n                dispatch(success(user.data));\r\n            },\r\n            error => {\r\n                console.log(error);\r\n            }\r\n        );\r\n    function success(user) {\r\n        console.log(user);\r\n        return { type: userConstants.CHANGE_INFO_USER, user }\r\n    }\r\n}\r\n}\r\n\r\nfunction logout() {\r\n    userService.logout();\r\n    history.push('/signIn');\r\n    return { type: userConstants.LOGOUT };\r\n}\r\n\r\nfunction register(user) {\r\n    return dispatch => {\r\n        dispatch(request(user));\r\n\r\n        userService.register(user)\r\n            .then(\r\n                user => {\r\n                    dispatch(success());\r\n                    history.push('/signIn');\r\n                    dispatch(alertActions.success('Registration successful'));\r\n                },\r\n                error => {\r\n                    console.log(error);\r\n                    dispatch(failure(error.toString()));\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: userConstants.REGISTER_REQUEST, user } }\r\n    function success(user) { return { type: userConstants.REGISTER_SUCCESS, user } }\r\n    function failure(error) { return { type: userConstants.REGISTER_FAILURE, error } }\r\n}\r\n\r\nfunction getAll() {\r\n    return dispatch => {\r\n        dispatch(request());\r\n\r\n        userService.getAll()\r\n            .then(\r\n                users => dispatch(success(users)),\r\n                error => dispatch(failure(error.toString()))\r\n            );\r\n    };\r\n\r\n    function request() { return { type: userConstants.GETALL_REQUEST } }\r\n    function success(users) { return { type: userConstants.GETALL_SUCCESS, users } }\r\n    function failure(error) { return { type: userConstants.GETALL_FAILURE, error } }\r\n}\r\n\r\n// prefixed function name with underscore because delete is a reserved word in javascript\r\nfunction _delete(id) {\r\n    return dispatch => {\r\n        dispatch(request(id));\r\n\r\n        userService.delete(id)\r\n            .then(\r\n                user => dispatch(success(id)),\r\n                error => dispatch(failure(id, error.toString()))\r\n            );\r\n    };\r\n\r\n    function request(id) { return { type: userConstants.DELETE_REQUEST, id } }\r\n    function success(id) { return { type: userConstants.DELETE_SUCCESS, id } }\r\n    function failure(id, error) { return { type: userConstants.DELETE_FAILURE, id, error } }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}