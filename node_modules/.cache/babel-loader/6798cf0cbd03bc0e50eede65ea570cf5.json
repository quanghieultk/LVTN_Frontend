{"ast":null,"code":"var _jsxFileName = \"D:\\\\LVTN\\\\LVTN\\\\cuisine-net\\\\src\\\\components\\\\commentPost\\\\CommentPost.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { red } from '@material-ui/core/colors';\nimport { commentService } from './../../services/comment.service';\nimport { Comment } from 'antd';\nimport { CommentChildren } from './CommentChildren';\nimport axios from 'axios';\nimport { MessageInput, Avatar } from \"@chatscope/chat-ui-kit-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  avatar: {\n    backgroundColor: red[500]\n  }\n}));\nexport function CommentPost(props) {\n  _s();\n\n  var idPost = props.idPost;\n  var avatarImg = \"https://chatscope.io/storybook/react/static/media/zoe.e31a4ff8.svg\"; //comment\n\n  const [dataComment, setDataComment] = useState([]);\n  let mounted = true;\n  useEffect(() => {\n    commentService.getAllCommentPost(idPost).then(items => {\n      if (mounted) {\n        mounted = false;\n        setDataComment(items);\n      }\n    });\n    return () => mounted = false;\n  }, []);\n  const [messageInputValue, setMessageInputValue] = useState(\"\");\n\n  const sendMessage = messageInputValue => {\n    commentService.createComment(idPost, messageInputValue);\n    setMessageInputValue(\"\");\n    commentService.getAllCommentPost(idPost).then(items => {\n      if (mounted) {\n        mounted = false;\n        setDataComment(items);\n      }\n    });\n    return () => mounted = false;\n  };\n\n  const [isShowCommentReplyTo, setIsShowCommentReplyTo] = useState(false);\n  const [idCommentParent, setIdCommentParent] = useState();\n\n  const handleReplyTo = value => {\n    setIsShowCommentReplyTo(true);\n    setIdCommentParent(value);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(MessageInput, {\n      onChange: val => setMessageInputValue(val),\n      onSend: messageInputValue => sendMessage(messageInputValue)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), dataComment ? dataComment.map(value => {\n      return /*#__PURE__*/_jsxDEV(Comment, {\n        actions: [/*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => handleReplyTo(value._id),\n          children: \"Reply to\"\n        }, \"comment-nested-reply-to\", false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 35\n        }, this)],\n        author: /*#__PURE__*/_jsxDEV(\"a\", {\n          children: \"Han Solo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 33\n        }, this),\n        avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n          src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n          alt: \"Han Solo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }, this),\n        content: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: value.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }, this),\n        children: /*#__PURE__*/_jsxDEV(CommentChildren, {\n          idComment: value._id,\n          isShowInput: isShowCommentReplyTo && idCommentParent == value._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 28\n      }, this);\n    }) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CommentPost, \"5tsgY7difY9tDG5kY/FMsANFkHc=\");\n\n_c = CommentPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommentPost\");","map":{"version":3,"sources":["D:/LVTN/LVTN/cuisine-net/src/components/commentPost/CommentPost.js"],"names":["React","Fragment","useEffect","useState","makeStyles","Typography","red","commentService","Comment","CommentChildren","axios","MessageInput","Avatar","useStyles","theme","avatar","backgroundColor","CommentPost","props","idPost","avatarImg","dataComment","setDataComment","mounted","getAllCommentPost","then","items","messageInputValue","setMessageInputValue","sendMessage","createComment","isShowCommentReplyTo","setIsShowCommentReplyTo","idCommentParent","setIdCommentParent","handleReplyTo","value","val","map","_id","text"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { red } from '@material-ui/core/colors';\r\nimport { commentService } from './../../services/comment.service';\r\nimport { Comment } from 'antd';\r\nimport { CommentChildren } from './CommentChildren'\r\nimport axios from 'axios';\r\nimport {\r\n    MessageInput,\r\n    Avatar\r\n} from \"@chatscope/chat-ui-kit-react\";\r\nconst useStyles = makeStyles((theme) => ({\r\n    avatar: {\r\n        backgroundColor: red[500],\r\n    },\r\n}));\r\n\r\nexport function CommentPost(props) {\r\n    var idPost = props.idPost;\r\n    var avatarImg = \"https://chatscope.io/storybook/react/static/media/zoe.e31a4ff8.svg\";\r\n    //comment\r\n    const [dataComment, setDataComment] = useState([]);\r\n    let mounted = true;\r\n    useEffect(() => {\r\n        commentService.getAllCommentPost(idPost)\r\n            .then(items => {\r\n                if (mounted) {\r\n                    mounted = false;\r\n                    setDataComment(items);\r\n                }\r\n\r\n            })\r\n        return () => mounted = false;\r\n    }, []);\r\n    const [messageInputValue, setMessageInputValue] = useState(\"\");\r\n    const sendMessage = (messageInputValue) => {\r\n\r\n        commentService.createComment(idPost, messageInputValue);\r\n\r\n        setMessageInputValue(\"\");\r\n        commentService.getAllCommentPost(idPost)\r\n            .then(items => {\r\n                if (mounted) {\r\n                    mounted = false;\r\n                    setDataComment(items);\r\n                }\r\n\r\n            })\r\n        return () => mounted = false;\r\n    };\r\n    \r\n    const [isShowCommentReplyTo, setIsShowCommentReplyTo] = useState(false);\r\n    const [idCommentParent, setIdCommentParent] = useState();\r\n    const handleReplyTo = (value) => {\r\n        setIsShowCommentReplyTo(true);\r\n        setIdCommentParent(value);\r\n    };\r\n    \r\n    return (\r\n        <div>\r\n            <MessageInput onChange={val => setMessageInputValue(val)}\r\n                onSend={(messageInputValue) => sendMessage(messageInputValue)} />\r\n            {\r\n                dataComment?dataComment.map((value) => {\r\n                    return <Comment\r\n                        actions={[<span key=\"comment-nested-reply-to\" onClick={() => handleReplyTo(value._id)} >Reply to</span>]}\r\n                        author={<a>Han Solo</a>}\r\n                        avatar={\r\n                            <Avatar\r\n                                src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"\r\n                                alt=\"Han Solo\"\r\n                            />\r\n                        }\r\n                        content={\r\n                            <p>\r\n                                {value.text}\r\n                            </p>\r\n                        }\r\n                    >\r\n                        <CommentChildren idComment={value._id} isShowInput = {isShowCommentReplyTo&&idCommentParent == value._id}></CommentChildren>\r\n                    </Comment>\r\n                }):null\r\n            }\r\n        </div>\r\n\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}