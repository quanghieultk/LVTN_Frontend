{"ast":null,"code":"var _jsxFileName = \"D:\\\\LVTN\\\\LVTN\\\\cuisine-net\\\\src\\\\components\\\\post\\\\Post.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Collapse from '@material-ui/core/Collapse';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport { red } from '@material-ui/core/colors';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ShareIcon from '@material-ui/icons/Share';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Chat from '@material-ui/icons/Chat';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { Popover, Button } from 'antd';\nimport { Modal } from 'antd';\nimport { Form, Input } from 'antd';\nimport { Upload } from 'antd';\nimport { commentService } from './../../services/comment.service';\nimport { postService } from './../../services/post.service';\nimport { Comment } from 'antd';\nimport { CommentPost } from './../commentPost/CommentPost';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { postActions } from './../../actions/post.action';\nimport axios from 'axios';\nimport { MessageInput, ConversationList, Conversation, Avatar } from \"@chatscope/chat-ui-kit-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    maxWidth: \"100%\"\n  },\n  media: {\n    height: 0,\n    paddingTop: '56.25%' // 16:9\n\n  },\n  expand: {\n    transform: 'rotate(0deg)',\n    marginLeft: 'auto',\n    transition: theme.transitions.create('transform', {\n      duration: theme.transitions.duration.shortest\n    })\n  },\n  expandOpen: {\n    transform: 'rotate(180deg)'\n  },\n  avatar: {\n    backgroundColor: red[500]\n  }\n}));\nexport function Post(props) {\n  _s();\n\n  var dataPost = props.value;\n  const [dataComment, setDataComment] = useState([]);\n  const classes = useStyles();\n  const [expanded, setExpanded] = useState(false);\n  var avatarImg = \"https://chatscope.io/storybook/react/static/media/zoe.e31a4ff8.svg\";\n  const [visible, setVisible] = useState(false); //getcomment\n\n  let mounted = true;\n  const dispatch = useDispatch();\n  var post = useSelector(state => state.post.postList);\n  useEffect(() => {\n    commentService.getAllCommentPost(dataPost._id).then(items => {\n      if (mounted) {\n        mounted = false;\n        setDataComment(items);\n      }\n    });\n    return () => mounted = false;\n  }, []); //modal\n\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = () => {\n    setIsModalVisible(true);\n    handleVisibleChange(false);\n  };\n\n  const deletePost = () => {\n    postService.deletePost(dataPost._id).then(response => {\n      dispatch(postActions.deletePost(dataPost._id));\n    }).catch(e => {\n      console.log(e);\n    });\n  };\n\n  const onPreview = async file => {\n    let src = file.url;\n\n    if (!src) {\n      src = await new Promise(resolve => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file.originFileObj);\n\n        reader.onload = () => resolve(reader.result);\n      });\n    }\n\n    const image = new Image();\n    image.src = src;\n    const imgWindow = window.open(src);\n    imgWindow.document.write(image.outerHTML);\n  };\n\n  const [fileList, setFileList] = useState([]);\n\n  const onChange = ({\n    fileList: newFileList\n  }) => {\n    setFileList(newFileList);\n    console.log(newFileList.status);\n  };\n\n  const onFinish = values => {\n    console.log(values);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  }; //end modal\n\n\n  const handleExpandClick = () => {\n    setExpanded(!expanded);\n  };\n\n  const handleVisibleChange = visible => {\n    setVisible(visible);\n  };\n\n  const content = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        style: {\n          color: 'black'\n        },\n        onClick: showModal,\n        children: \"Ch\\u1EC9nh s\\u1EEDa b\\xE0i vi\\u1EBFt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        style: {\n          color: 'black'\n        },\n        onClick: deletePost,\n        children: \"X\\xF3a b\\xE0i vi\\u1EBFt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 134,\n    columnNumber: 5\n  }, this); //comment\n  //end comment\n\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n        \"aria-label\": \"recipe\",\n        src: avatarImg,\n        className: classes.avatar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 11\n      }, this),\n      action: /*#__PURE__*/_jsxDEV(Popover, {\n        content: content,\n        title: \"Title\",\n        trigger: \"click\",\n        visible: visible,\n        onVisibleChange: handleVisibleChange,\n        placement: \"bottomRight\",\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"settings\",\n          children: /*#__PURE__*/_jsxDEV(MoreVertIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }, this),\n      title: dataPost.author.firstname,\n      subheader: dataPost.createdAt\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        component: \"p\",\n        children: dataPost.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardMedia, {\n      className: classes.media,\n      image: \"/images/Octocat.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n      disableSpacing: true,\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        \"aria-label\": \"add to favorites\",\n        children: /*#__PURE__*/_jsxDEV(FavoriteIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        \"aria-label\": \"add to favorites\",\n        children: /*#__PURE__*/_jsxDEV(Chat, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        \"aria-label\": \"share\",\n        children: /*#__PURE__*/_jsxDEV(ShareIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        className: clsx(classes.expand, {\n          [classes.expandOpen]: expanded\n        }),\n        onClick: handleExpandClick,\n        \"aria-expanded\": expanded,\n        \"aria-label\": \"show more\",\n        children: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n      in: expanded,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            overflow: \"visible\"\n          },\n          children: /*#__PURE__*/_jsxDEV(CommentPost, {\n            idPost: dataPost._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Ch\\u1EC9nh s\\u1EEDa b\\xE0i vi\\u1EBFt\",\n      visible: isModalVisible,\n      onOk: handleOk,\n      onCancel: handleCancel,\n      footer: [null],\n      children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n        avatar: /*#__PURE__*/_jsxDEV(Avatar, {\n          \"aria-label\": \"recipe\",\n          src: avatarImg,\n          className: classes.avatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this),\n        title: \"Shrimp and Chorizo Paella\",\n        subheader: \"September 14, 2016\",\n        style: {\n          padding: '0'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        style: {\n          marginTop: '20px'\n        },\n        onFinish: onFinish,\n        children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n          className: classes.formItem,\n          name: ['user', 'introduction'],\n          children: /*#__PURE__*/_jsxDEV(Input.TextArea, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Upload, {\n          action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\n          listType: \"picture-card\",\n          fileList: fileList,\n          onChange: onChange,\n          onPreview: onPreview,\n          children: '+ Upload'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          className: classes.formItem,\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            block: true,\n            size: \"large\",\n            htmlType: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Post, \"bSMa4W8CzhTDF/x2xpmQ21lKE0A=\", false, function () {\n  return [useStyles, useDispatch, useSelector];\n});\n\n_c = Post;\n\nvar _c;\n\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"sources":["D:/LVTN/LVTN/cuisine-net/src/components/post/Post.js"],"names":["React","Fragment","useEffect","useState","makeStyles","clsx","Card","CardHeader","CardMedia","CardContent","CardActions","Collapse","IconButton","Typography","red","FavoriteIcon","ShareIcon","ExpandMoreIcon","Chat","MoreVertIcon","Popover","Button","Modal","Form","Input","Upload","commentService","postService","Comment","CommentPost","useDispatch","useSelector","postActions","axios","MessageInput","ConversationList","Conversation","Avatar","useStyles","theme","root","maxWidth","media","height","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","Post","props","dataPost","value","dataComment","setDataComment","classes","expanded","setExpanded","avatarImg","visible","setVisible","mounted","dispatch","post","state","postList","getAllCommentPost","_id","then","items","isModalVisible","setIsModalVisible","showModal","handleVisibleChange","deletePost","response","catch","e","console","log","onPreview","file","src","url","Promise","resolve","reader","FileReader","readAsDataURL","originFileObj","onload","result","image","Image","imgWindow","window","open","document","write","outerHTML","fileList","setFileList","onChange","newFileList","status","onFinish","values","handleOk","handleCancel","handleExpandClick","content","color","author","firstname","createdAt","description","overflow","padding","marginTop","formItem"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,QAArC,QAAqD,OAArD;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,SAASC,GAAT,QAAoB,0BAApB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,SAASC,OAAT,EAAkBC,MAAlB,QAAgC,MAAhC;AACA,SAASC,KAAT,QAAsB,MAAtB;AACA,SAASC,IAAT,EAAeC,KAAf,QAA4B,MAA5B;AACA,SAASC,MAAT,QAAuB,MAAvB;AACA,SAASC,cAAT,QAA+B,kCAA/B;AACA,SAASC,WAAT,QAA4B,+BAA5B;AACA,SAASC,OAAT,QAAwB,MAAxB;AACA,SAASC,WAAT,QAA4B,8BAA5B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,6BAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,YADF,EAEEC,gBAFF,EAGEC,YAHF,EAIEC,MAJF,QAKO,8BALP;;AAMA,MAAMC,SAAS,GAAGlC,UAAU,CAAEmC,KAAD,KAAY;AACvCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,QAAQ,EAAE;AADN,GADiC;AAKvCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,MAAM,EAAE,CADH;AAELC,IAAAA,UAAU,EAAE,QAFP,CAEiB;;AAFjB,GALgC;AASvCC,EAAAA,MAAM,EAAE;AACNC,IAAAA,SAAS,EAAE,cADL;AAENC,IAAAA,UAAU,EAAE,MAFN;AAGNC,IAAAA,UAAU,EAAET,KAAK,CAACU,WAAN,CAAkBC,MAAlB,CAAyB,WAAzB,EAAsC;AAChDC,MAAAA,QAAQ,EAAEZ,KAAK,CAACU,WAAN,CAAkBE,QAAlB,CAA2BC;AADW,KAAtC;AAHN,GAT+B;AAgBvCC,EAAAA,UAAU,EAAE;AACVP,IAAAA,SAAS,EAAE;AADD,GAhB2B;AAmBvCQ,EAAAA,MAAM,EAAE;AACNC,IAAAA,eAAe,EAAEzC,GAAG,CAAC,GAAD;AADd;AAnB+B,CAAZ,CAAD,CAA5B;AAyBA,OAAO,SAAS0C,IAAT,CAAcC,KAAd,EAAqB;AAAA;;AAE1B,MAAIC,QAAQ,GAAGD,KAAK,CAACE,KAArB;AACA,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgC1D,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM2D,OAAO,GAAGxB,SAAS,EAAzB;AACA,QAAM,CAACyB,QAAD,EAAWC,WAAX,IAA0B7D,QAAQ,CAAC,KAAD,CAAxC;AACA,MAAI8D,SAAS,GAAG,oEAAhB;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBhE,QAAQ,CAAC,KAAD,CAAtC,CAP0B,CAQ1B;;AACA,MAAIiE,OAAO,GAAG,IAAd;AACA,QAAMC,QAAQ,GAAGvC,WAAW,EAA5B;AACA,MAAIwC,IAAI,GAAGvC,WAAW,CAACwC,KAAK,IAAIA,KAAK,CAACD,IAAN,CAAWE,QAArB,CAAtB;AACAtE,EAAAA,SAAS,CAAC,MAAM;AACdwB,IAAAA,cAAc,CAAC+C,iBAAf,CAAiCf,QAAQ,CAACgB,GAA1C,EACGC,IADH,CACQC,KAAK,IAAI;AACb,UAAIR,OAAJ,EAAa;AACXA,QAAAA,OAAO,GAAG,KAAV;AACAP,QAAAA,cAAc,CAACe,KAAD,CAAd;AACD;AAEF,KAPH;AAQA,WAAO,MAAMR,OAAO,GAAG,KAAvB;AACD,GAVQ,EAUN,EAVM,CAAT,CAZ0B,CAuB1B;;AACA,QAAM,CAACS,cAAD,EAAiBC,iBAAjB,IAAsC3E,QAAQ,CAAC,KAAD,CAApD;;AACA,QAAM4E,SAAS,GAAG,MAAM;AACtBD,IAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACAE,IAAAA,mBAAmB,CAAC,KAAD,CAAnB;AACD,GAHD;;AAIA,QAAMC,UAAU,GAAG,MAAM;AACvBtD,IAAAA,WAAW,CAACsD,UAAZ,CAAuBvB,QAAQ,CAACgB,GAAhC,EAAqCC,IAArC,CAA2CO,QAAD,IAAc;AACtDb,MAAAA,QAAQ,CAACrC,WAAW,CAACiD,UAAZ,CAAuBvB,QAAQ,CAACgB,GAAhC,CAAD,CAAR;AACD,KAFD,EAEGS,KAFH,CAESC,CAAC,IAAI;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD,KAJD;AAKD,GAND;;AAOA,QAAMG,SAAS,GAAG,MAAMC,IAAN,IAAc;AAC9B,QAAIC,GAAG,GAAGD,IAAI,CAACE,GAAf;;AACA,QAAI,CAACD,GAAL,EAAU;AACRA,MAAAA,GAAG,GAAG,MAAM,IAAIE,OAAJ,CAAYC,OAAO,IAAI;AACjC,cAAMC,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACAD,QAAAA,MAAM,CAACE,aAAP,CAAqBP,IAAI,CAACQ,aAA1B;;AACAH,QAAAA,MAAM,CAACI,MAAP,GAAgB,MAAML,OAAO,CAACC,MAAM,CAACK,MAAR,CAA7B;AACD,OAJW,CAAZ;AAKD;;AACD,UAAMC,KAAK,GAAG,IAAIC,KAAJ,EAAd;AACAD,IAAAA,KAAK,CAACV,GAAN,GAAYA,GAAZ;AACA,UAAMY,SAAS,GAAGC,MAAM,CAACC,IAAP,CAAYd,GAAZ,CAAlB;AACAY,IAAAA,SAAS,CAACG,QAAV,CAAmBC,KAAnB,CAAyBN,KAAK,CAACO,SAA/B;AACD,GAbD;;AAcA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BzG,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAM0G,QAAQ,GAAG,CAAC;AAAEF,IAAAA,QAAQ,EAAEG;AAAZ,GAAD,KAA+B;AAC9CF,IAAAA,WAAW,CAACE,WAAD,CAAX;AACAzB,IAAAA,OAAO,CAACC,GAAR,CAAYwB,WAAW,CAACC,MAAxB;AACD,GAHD;;AAIA,QAAMC,QAAQ,GAAIC,MAAD,IAAY;AAC3B5B,IAAAA,OAAO,CAACC,GAAR,CAAY2B,MAAZ;AACD,GAFD;;AAGA,QAAMC,QAAQ,GAAG,MAAM;AACrBpC,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACD,GAFD;;AAIA,QAAMqC,YAAY,GAAG,MAAM;AACzBrC,IAAAA,iBAAiB,CAAC,KAAD,CAAjB;AACD,GAFD,CA/D0B,CAkE1B;;;AACA,QAAMsC,iBAAiB,GAAG,MAAM;AAC9BpD,IAAAA,WAAW,CAAC,CAACD,QAAF,CAAX;AACD,GAFD;;AAGA,QAAMiB,mBAAmB,GAAId,OAAD,IAAa;AACvCC,IAAAA,UAAU,CAACD,OAAD,CAAV;AACD,GAFD;;AAGA,QAAMmD,OAAO,gBACX;AAAA,4BACE;AAAA,6BACE;AAAG,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAAV;AAA8B,QAAA,OAAO,EAAEvC,SAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAME;AAAA,6BACE;AAAG,QAAA,KAAK,EAAE;AAAEuC,UAAAA,KAAK,EAAE;AAAT,SAAV;AAA8B,QAAA,OAAO,EAAErC,UAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YANF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CAzE0B,CAqF1B;AAEA;;;AACA,sBACE,QAAC,IAAD;AAAM,IAAA,SAAS,EAAEnB,OAAO,CAACtB,IAAzB;AAAA,4BACE,QAAC,UAAD;AACE,MAAA,MAAM,eACJ,QAAC,MAAD;AAAQ,sBAAW,QAAnB;AAA4B,QAAA,GAAG,EAAEyB,SAAjC;AAA4C,QAAA,SAAS,EAAEH,OAAO,CAACR;AAA/D;AAAA;AAAA;AAAA;AAAA,cAFJ;AAKE,MAAA,MAAM,eACJ,QAAC,OAAD;AACE,QAAA,OAAO,EAAE+D,OADX;AAEE,QAAA,KAAK,EAAC,OAFR;AAGE,QAAA,OAAO,EAAC,OAHV;AAIE,QAAA,OAAO,EAAEnD,OAJX;AAKE,QAAA,eAAe,EAAEc,mBALnB;AAME,QAAA,SAAS,EAAC,aANZ;AAAA,+BAQE,QAAC,UAAD;AAAY,wBAAW,UAAvB;AAAA,iCACE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,cANJ;AAoBE,MAAA,KAAK,EAAEtB,QAAQ,CAAC6D,MAAT,CAAgBC,SApBzB;AAqBE,MAAA,SAAS,EAAE9D,QAAQ,CAAC+D;AArBtB;AAAA;AAAA;AAAA;AAAA,YADF,eAwBE,QAAC,WAAD;AAAA,6BACE,QAAC,UAAD;AAAY,QAAA,OAAO,EAAC,OAApB;AAA4B,QAAA,SAAS,EAAC,GAAtC;AAAA,kBACG/D,QAAQ,CAACgE;AADZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAxBF,eA6BE,QAAC,SAAD;AACE,MAAA,SAAS,EAAE5D,OAAO,CAACpB,KADrB;AAEE,MAAA,KAAK,EAAC;AAFR;AAAA;AAAA;AAAA;AAAA,YA7BF,eAkCE,QAAC,WAAD;AAAa,MAAA,cAAc,MAA3B;AAAA,8BACE,QAAC,UAAD;AAAY,sBAAW,kBAAvB;AAAA,+BACE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,UAAD;AAAY,sBAAW,kBAAvB;AAAA,+BACE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF,eAOE,QAAC,UAAD;AAAY,sBAAW,OAAvB;AAAA,+BACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAPF,eAUE,QAAC,UAAD;AACE,QAAA,SAAS,EAAErC,IAAI,CAACyD,OAAO,CAACjB,MAAT,EAAiB;AAC9B,WAACiB,OAAO,CAACT,UAAT,GAAsBU;AADQ,SAAjB,CADjB;AAIE,QAAA,OAAO,EAAEqD,iBAJX;AAKE,yBAAerD,QALjB;AAME,sBAAW,WANb;AAAA,+BAQE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA,cAVF;AAAA;AAAA;AAAA;AAAA;AAAA,YAlCF,eAuDE,QAAC,QAAD;AAAU,MAAA,EAAE,EAAEA,QAAd;AAAwB,MAAA,OAAO,EAAC,MAAhC;AAAuC,MAAA,aAAa,MAApD;AAAA,6BACE,QAAC,WAAD;AAAA,+BACE;AAAK,UAAA,KAAK,EAAE;AAAE4D,YAAAA,QAAQ,EAAE;AAAZ,WAAZ;AAAA,iCACE,QAAC,WAAD;AAAa,YAAA,MAAM,EAAEjE,QAAQ,CAACgB;AAA9B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAvDF,eA+DE,QAAC,KAAD;AAAO,MAAA,KAAK,EAAC,sCAAb;AACE,MAAA,OAAO,EAAEG,cADX;AAEE,MAAA,IAAI,EAAEqC,QAFR;AAGE,MAAA,QAAQ,EAAEC,YAHZ;AAIE,MAAA,MAAM,EAAE,CAAC,IAAD,CAJV;AAAA,8BAME,QAAC,UAAD;AACE,QAAA,MAAM,eACJ,QAAC,MAAD;AAAQ,wBAAW,QAAnB;AAA4B,UAAA,GAAG,EAAElD,SAAjC;AAA4C,UAAA,SAAS,EAAEH,OAAO,CAACR;AAA/D;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAKE,QAAA,KAAK,EAAC,2BALR;AAME,QAAA,SAAS,EAAC,oBANZ;AAOE,QAAA,KAAK,EAAE;AAAEsE,UAAAA,OAAO,EAAE;AAAX;AAPT;AAAA;AAAA;AAAA;AAAA,cANF,eAeE,QAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEC,UAAAA,SAAS,EAAE;AAAb,SAAb;AAAoC,QAAA,QAAQ,EAAEb,QAA9C;AAAA,gCACE,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,SAAS,EAAElD,OAAO,CAACgE,QAA9B;AAAwC,UAAA,IAAI,EAAE,CAAC,MAAD,EAAS,cAAT,CAA9C;AAAA,iCACE,QAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE,QAAC,MAAD;AACE,UAAA,MAAM,EAAC,kDADT;AAEE,UAAA,QAAQ,EAAC,cAFX;AAGE,UAAA,QAAQ,EAAEnB,QAHZ;AAIE,UAAA,QAAQ,EAAEE,QAJZ;AAKE,UAAA,SAAS,EAAEtB,SALb;AAAA,oBAOG;AAPH;AAAA;AAAA;AAAA;AAAA,gBAJF,eAaE,QAAC,IAAD,CAAM,IAAN;AAAW,UAAA,SAAS,EAAEzB,OAAO,CAACgE,QAA9B;AAAA,iCACE,QAAC,MAAD;AAAQ,YAAA,IAAI,EAAC,SAAb;AAAuB,YAAA,KAAK,MAA5B;AAA6B,YAAA,IAAI,EAAC,OAAlC;AAA0C,YAAA,QAAQ,EAAC,QAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAbF;AAAA;AAAA;AAAA;AAAA;AAAA,cAfF,eAmCE,QAAC,IAAD;AAAA;AAAA;AAAA;AAAA,cAnCF;AAAA;AAAA;AAAA;AAAA;AAAA,YA/DF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAyGD;;GAjMetE,I;UAIElB,S,EAMCR,W,EACNC,W;;;KAXGyB,I","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { red } from '@material-ui/core/colors';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Chat from '@material-ui/icons/Chat';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { Popover, Button } from 'antd';\r\nimport { Modal } from 'antd';\r\nimport { Form, Input } from 'antd';\r\nimport { Upload } from 'antd';\r\nimport { commentService } from './../../services/comment.service';\r\nimport { postService } from './../../services/post.service';\r\nimport { Comment } from 'antd';\r\nimport { CommentPost } from './../commentPost/CommentPost';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { postActions } from './../../actions/post.action';\r\nimport axios from 'axios';\r\nimport {\r\n  MessageInput,\r\n  ConversationList,\r\n  Conversation,\r\n  Avatar\r\n} from \"@chatscope/chat-ui-kit-react\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: \"100%\",\r\n\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n}));\r\n\r\n\r\nexport function Post(props) {\r\n\r\n  var dataPost = props.value;\r\n  const [dataComment, setDataComment] = useState([]);\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = useState(false);\r\n  var avatarImg = \"https://chatscope.io/storybook/react/static/media/zoe.e31a4ff8.svg\";\r\n  const [visible, setVisible] = useState(false);\r\n  //getcomment\r\n  let mounted = true;\r\n  const dispatch = useDispatch();\r\n  var post = useSelector(state => state.post.postList);\r\n  useEffect(() => {\r\n    commentService.getAllCommentPost(dataPost._id)\r\n      .then(items => {\r\n        if (mounted) {\r\n          mounted = false;\r\n          setDataComment(items);\r\n        }\r\n\r\n      })\r\n    return () => mounted = false;\r\n  }, []);\r\n  //modal\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n    handleVisibleChange(false);\r\n  };\r\n  const deletePost = () => {\r\n    postService.deletePost(dataPost._id).then((response) => {\r\n      dispatch(postActions.deletePost(dataPost._id));\r\n    }).catch(e => {\r\n      console.log(e);\r\n    });\r\n  }\r\n  const onPreview = async file => {\r\n    let src = file.url;\r\n    if (!src) {\r\n      src = await new Promise(resolve => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file.originFileObj);\r\n        reader.onload = () => resolve(reader.result);\r\n      });\r\n    }\r\n    const image = new Image();\r\n    image.src = src;\r\n    const imgWindow = window.open(src);\r\n    imgWindow.document.write(image.outerHTML);\r\n  };\r\n  const [fileList, setFileList] = useState([]);\r\n\r\n  const onChange = ({ fileList: newFileList }) => {\r\n    setFileList(newFileList);\r\n    console.log(newFileList.status)\r\n  };\r\n  const onFinish = (values) => {\r\n    console.log(values);\r\n  };\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n  //end modal\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n  const handleVisibleChange = (visible) => {\r\n    setVisible(visible);\r\n  };\r\n  const content = (\r\n    <div>\r\n      <div>\r\n        <a style={{ color: 'black' }} onClick={showModal}>Chỉnh sửa bài viết</a>\r\n\r\n\r\n      </div>\r\n      <div>\r\n        <a style={{ color: 'black' }} onClick={deletePost}>Xóa bài viết</a>\r\n      </div>\r\n    </div>\r\n  );\r\n  //comment\r\n\r\n  //end comment\r\n  return (\r\n    <Card className={classes.root}>\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar aria-label=\"recipe\" src={avatarImg} className={classes.avatar}>\r\n          </Avatar>\r\n        }\r\n        action={\r\n          <Popover\r\n            content={content}\r\n            title=\"Title\"\r\n            trigger=\"click\"\r\n            visible={visible}\r\n            onVisibleChange={handleVisibleChange}\r\n            placement=\"bottomRight\"\r\n          >\r\n            <IconButton aria-label=\"settings\">\r\n              <MoreVertIcon />\r\n            </IconButton>\r\n          </Popover>\r\n\r\n        }\r\n        title={dataPost.author.firstname}\r\n        subheader={dataPost.createdAt}\r\n      />\r\n      <CardContent>\r\n        <Typography variant=\"body2\" component=\"p\">\r\n          {dataPost.description}\r\n        </Typography>\r\n      </CardContent>\r\n      <CardMedia\r\n        className={classes.media}\r\n        image=\"/images/Octocat.png\"\r\n      />\r\n\r\n      <CardActions disableSpacing>\r\n        <IconButton aria-label=\"add to favorites\">\r\n          <FavoriteIcon />\r\n        </IconButton>\r\n        <IconButton aria-label=\"add to favorites\">\r\n          <Chat />\r\n        </IconButton>\r\n        <IconButton aria-label=\"share\">\r\n          <ShareIcon />\r\n        </IconButton>\r\n        <IconButton\r\n          className={clsx(classes.expand, {\r\n            [classes.expandOpen]: expanded,\r\n          })}\r\n          onClick={handleExpandClick}\r\n          aria-expanded={expanded}\r\n          aria-label=\"show more\"\r\n        >\r\n          <ExpandMoreIcon />\r\n        </IconButton>\r\n      </CardActions>\r\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n        <CardContent>\r\n          <div style={{ overflow: \"visible\" }} >\r\n            <CommentPost idPost={dataPost._id}></CommentPost>\r\n          </div>\r\n        </CardContent>\r\n      </Collapse>\r\n      {/* <Divider /> */}\r\n      <Modal title=\"Chỉnh sửa bài viết\"\r\n        visible={isModalVisible}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        footer={[null]}\r\n      >\r\n        <CardHeader\r\n          avatar={\r\n            <Avatar aria-label=\"recipe\" src={avatarImg} className={classes.avatar}>\r\n            </Avatar>\r\n          }\r\n          title=\"Shrimp and Chorizo Paella\"\r\n          subheader=\"September 14, 2016\"\r\n          style={{ padding: '0' }}\r\n        />\r\n        <Form style={{ marginTop: '20px' }} onFinish={onFinish}>\r\n          <Form.Item className={classes.formItem} name={['user', 'introduction']}>\r\n            <Input.TextArea />\r\n          </Form.Item>\r\n          <Upload\r\n            action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n            listType=\"picture-card\"\r\n            fileList={fileList}\r\n            onChange={onChange}\r\n            onPreview={onPreview}\r\n          >\r\n            {'+ Upload'}\r\n          </Upload>\r\n          <Form.Item className={classes.formItem}  >\r\n            <Button type=\"primary\" block size='large' htmlType=\"submit\">\r\n              Submit\r\n                        </Button>\r\n          </Form.Item>\r\n\r\n        </Form>\r\n        <Card>\r\n        </Card>\r\n      </Modal>\r\n\r\n    </Card>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}