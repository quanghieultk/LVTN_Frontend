{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nimport { PointLight } from './point-light';\nimport { getUniformsFromViewport } from '../../shaderlib/project/viewport-uniforms';\n\nvar CameraLight = function (_PointLight) {\n  _inherits(CameraLight, _PointLight);\n\n  var _super = _createSuper(CameraLight);\n\n  function CameraLight() {\n    _classCallCheck(this, CameraLight);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(CameraLight, [{\n    key: \"getProjectedLight\",\n    value: function getProjectedLight(_ref) {\n      var layer = _ref.layer;\n      var projectedLight = this.projectedLight;\n      var viewport = layer.context.viewport;\n      var _layer$props = layer.props,\n          coordinateSystem = _layer$props.coordinateSystem,\n          coordinateOrigin = _layer$props.coordinateOrigin,\n          modelMatrix = _layer$props.modelMatrix;\n\n      var _getUniformsFromViewp = getUniformsFromViewport({\n        viewport: viewport,\n        modelMatrix: modelMatrix,\n        coordinateSystem: coordinateSystem,\n        coordinateOrigin: coordinateOrigin\n      }),\n          project_uCameraPosition = _getUniformsFromViewp.project_uCameraPosition;\n\n      projectedLight.color = this.color;\n      projectedLight.intensity = this.intensity;\n      projectedLight.position = project_uCameraPosition;\n      return projectedLight;\n    }\n  }]);\n\n  return CameraLight;\n}(PointLight);\n\nexport { CameraLight as default };","map":{"version":3,"sources":["../../../../src/effects/lighting/camera-light.js"],"names":["CameraLight","PointLight","layer","projectedLight","viewport","coordinateSystem","coordinateOrigin","modelMatrix","project_uCameraPosition","getUniformsFromViewport"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAA,UAAA,QAAA,eAAA;AACA,SAAA,uBAAA,QAAA,2CAAA;;IAEqBA,W;;;;;;;;;;;;;4CACQ;AAAA,UAARE,KAAQ,GAAA,IAAA,CAARA,KAAQ;AAAA,UAClBC,cADkB,GAAA,KAAA,cAAA;AAEzB,UAAMC,QAAQ,GAAGF,KAAK,CAALA,OAAAA,CAAjB,QAAA;AAFyB,UAAA,YAAA,GAGiCA,KAAK,CAHtC,KAAA;AAAA,UAGlBG,gBAHkB,GAAA,YAAA,CAAA,gBAAA;AAAA,UAGAC,gBAHA,GAAA,YAAA,CAAA,gBAAA;AAAA,UAGkBC,WAHlB,GAAA,YAAA,CAAA,WAAA;;AAAA,UAAA,qBAAA,GAISE,uBAAuB,CAAC;AACxDL,QAAAA,QAAQ,EADgD,QAAA;AAExDG,QAAAA,WAAW,EAF6C,WAAA;AAGxDF,QAAAA,gBAAgB,EAHwC,gBAAA;AAIxDC,QAAAA,gBAAgB,EAAhBA;AAJwD,OAAD,CAJhC;AAAA,UAIlBE,uBAJkB,GAAA,qBAAA,CAAA,uBAAA;;AAUzBL,MAAAA,cAAc,CAAdA,KAAAA,GAAuB,KAAvBA,KAAAA;AACAA,MAAAA,cAAc,CAAdA,SAAAA,GAA2B,KAA3BA,SAAAA;AACAA,MAAAA,cAAc,CAAdA,QAAAA,GAAAA,uBAAAA;AACA,aAAA,cAAA;AACD;;;;EAfsCF,U;;SAApBD,W","sourcesContent":["import {PointLight} from './point-light';\nimport {getUniformsFromViewport} from '../../shaderlib/project/viewport-uniforms';\n\nexport default class CameraLight extends PointLight {\n  getProjectedLight({layer}) {\n    const {projectedLight} = this;\n    const viewport = layer.context.viewport;\n    const {coordinateSystem, coordinateOrigin, modelMatrix} = layer.props;\n    const {project_uCameraPosition} = getUniformsFromViewport({\n      viewport,\n      modelMatrix,\n      coordinateSystem,\n      coordinateOrigin\n    });\n    projectedLight.color = this.color;\n    projectedLight.intensity = this.intensity;\n    projectedLight.position = project_uCameraPosition;\n    return projectedLight;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}