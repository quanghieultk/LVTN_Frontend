{"ast":null,"code":"import { notificationConstants } from \"../constants/notification.constants\";\nimport { notificatonService } from \"../services/notification.service\";\nexport const notificationActions = {\n  toggleNotificationPopup,\n  closeNotificationPopup,\n  addNotification,\n  fetchNotifications\n};\n\nfunction readNotifications(notificationIds) {\n  notificatonService.readNotifications(notificationIds).then(res => console.log(res)).catch(err => console.log(err));\n}\n\nfunction fetchNotifications(queryOptions, notificationIds) {\n  return dispatch => {\n    notificatonService.fetchNotifications(queryOptions).then(response => {\n      if (queryOptions.initialFetch) {\n        const notifications = response.data.data.response[0];\n        const total = notifications.length;\n        dispatch(success(notifications, total[0], queryOptions.initialFetch));\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  function success(notifications, total, initialFetch) {\n    return {\n      type: notificationConstants.FETCH_NOTIFICATIONS_SUCCESS,\n      notifications,\n      total,\n      initialFetch\n    };\n  }\n}\n\nfunction toggleNotificationPopup() {\n  return dispatch => {\n    dispatch({\n      type: notificationConstants.TOGGLE_NOTIFICATION_POPUP\n    });\n  };\n}\n\nfunction closeNotificationPopup() {\n  return dispatch => {\n    dispatch({\n      type: notificationConstants.CLOSE_NOTIFICATION_POPUP\n    });\n  };\n}\n\nfunction addNotification(data) {\n  return dispatch => {\n    dispatch({\n      type: notificationConstants.ADD_NOTIFICATION,\n      data\n    });\n  };\n}","map":{"version":3,"sources":["D:/LVTN/LVTN/cuisine-net/src/actions/notification.action.js"],"names":["notificationConstants","notificatonService","notificationActions","toggleNotificationPopup","closeNotificationPopup","addNotification","fetchNotifications","readNotifications","notificationIds","then","res","console","log","catch","err","queryOptions","dispatch","response","initialFetch","notifications","data","total","length","success","type","FETCH_NOTIFICATIONS_SUCCESS","TOGGLE_NOTIFICATION_POPUP","CLOSE_NOTIFICATION_POPUP","ADD_NOTIFICATION"],"mappings":"AAAA,SAASA,qBAAT,QAAsC,qCAAtC;AACA,SAASC,kBAAT,QAAmC,kCAAnC;AAEA,OAAO,MAAMC,mBAAmB,GAAG;AAC/BC,EAAAA,uBAD+B;AAE/BC,EAAAA,sBAF+B;AAG/BC,EAAAA,eAH+B;AAI/BC,EAAAA;AAJ+B,CAA5B;;AAOP,SAASC,iBAAT,CAA2BC,eAA3B,EAA4C;AACxCP,EAAAA,kBAAkB,CAACM,iBAAnB,CAAqCC,eAArC,EACKC,IADL,CACWC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CADnB,EAEKG,KAFL,CAEWC,GAAG,IAAIH,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAFlB;AAGH;;AAED,SAASR,kBAAT,CAA4BS,YAA5B,EAA0CP,eAA1C,EAA2D;AACvD,SAAOQ,QAAQ,IAAI;AACff,IAAAA,kBAAkB,CAACK,kBAAnB,CAAsCS,YAAtC,EAAoDN,IAApD,CACIQ,QAAQ,IAAI;AACR,UAAGF,YAAY,CAACG,YAAhB,EAA6B;AACzB,cAAMC,aAAa,GAAEF,QAAQ,CAACG,IAAT,CAAcA,IAAd,CAAmBH,QAAnB,CAA4B,CAA5B,CAArB;AACA,cAAMI,KAAK,GAACF,aAAa,CAACG,MAA1B;AACAN,QAAAA,QAAQ,CAACO,OAAO,CAACJ,aAAD,EAAgBE,KAAK,CAAC,CAAD,CAArB,EAA0BN,YAAY,CAACG,YAAvC,CAAR,CAAR;AACH;AACJ,KAPL,EAQEL,KARF,CAQSC,GAAD,IAAO;AACXH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACH,KAVD;AAWH,GAZD;;AAaA,WAASS,OAAT,CAAiBJ,aAAjB,EAAgCE,KAAhC,EAAuCH,YAAvC,EAAqD;AACjD,WAAO;AACLM,MAAAA,IAAI,EAAExB,qBAAqB,CAACyB,2BADvB;AAELN,MAAAA,aAFK;AAGLE,MAAAA,KAHK;AAILH,MAAAA;AAJK,KAAP;AAMD;AACN;;AAED,SAASf,uBAAT,GAAmC;AAC/B,SAAOa,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAAC;AACLQ,MAAAA,IAAI,EAAExB,qBAAqB,CAAC0B;AADvB,KAAD,CAAR;AAGH,GAJD;AAKH;;AAED,SAAStB,sBAAT,GAAkC;AAC9B,SAAOY,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAAC;AAAEQ,MAAAA,IAAI,EAAExB,qBAAqB,CAAC2B;AAA9B,KAAD,CAAR;AACH,GAFD;AAGH;;AAED,SAAStB,eAAT,CAAyBe,IAAzB,EAA+B;AAC3B,SAAOJ,QAAQ,IAAI;AACfA,IAAAA,QAAQ,CAAC;AAAEQ,MAAAA,IAAI,EAAExB,qBAAqB,CAAC4B,gBAA9B;AAAgDR,MAAAA;AAAhD,KAAD,CAAR;AACH,GAFD;AAGH","sourcesContent":["import { notificationConstants } from \"../constants/notification.constants\";\r\nimport { notificatonService } from \"../services/notification.service\";\r\n\r\nexport const notificationActions = {\r\n    toggleNotificationPopup,\r\n    closeNotificationPopup,\r\n    addNotification,\r\n    fetchNotifications\r\n}\r\n\r\nfunction readNotifications(notificationIds) {\r\n    notificatonService.readNotifications(notificationIds)\r\n        .then((res) => console.log(res))\r\n        .catch(err => console.log(err));\r\n}\r\n\r\nfunction fetchNotifications(queryOptions, notificationIds) {\r\n    return dispatch => {\r\n        notificatonService.fetchNotifications(queryOptions).then(\r\n            response => {\r\n                if(queryOptions.initialFetch){\r\n                    const notifications= response.data.data.response[0] ;\r\n                    const total=notifications.length;\r\n                    dispatch(success(notifications, total[0], queryOptions.initialFetch));\r\n                }\r\n            }\r\n        ).catch((err)=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    function success(notifications, total, initialFetch) {\r\n        return {\r\n          type: notificationConstants.FETCH_NOTIFICATIONS_SUCCESS,\r\n          notifications,\r\n          total,\r\n          initialFetch\r\n        };\r\n      }\r\n}\r\n\r\nfunction toggleNotificationPopup() {\r\n    return dispatch => {\r\n        dispatch({\r\n            type: notificationConstants.TOGGLE_NOTIFICATION_POPUP\r\n        });\r\n    };\r\n}\r\n\r\nfunction closeNotificationPopup() {\r\n    return dispatch => {\r\n        dispatch({ type: notificationConstants.CLOSE_NOTIFICATION_POPUP });\r\n    };\r\n}\r\n\r\nfunction addNotification(data) {\r\n    return dispatch => {\r\n        dispatch({ type: notificationConstants.ADD_NOTIFICATION, data });\r\n    };\r\n}"]},"metadata":{},"sourceType":"module"}