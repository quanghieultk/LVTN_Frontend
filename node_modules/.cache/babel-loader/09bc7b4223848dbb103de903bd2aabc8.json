{"ast":null,"code":"var _jsxFileName = \"D:\\\\LVTN\\\\LVTN\\\\cuisine-net\\\\src\\\\pages\\\\market\\\\market.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Container, Grid } from '@material-ui/core';\nimport { Header } from './../../components/header/Header';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from '@material-ui/core/Button';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { foodAction } from '../../actions/food.action';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  nonePadding: {\n    padding: \"0!important\"\n  },\n  icon: {\n    color: 'rgba(255, 255, 255, 0.54)'\n  }\n}));\n\nfunction ListItemLink(props) {\n  return /*#__PURE__*/_jsxDEV(ListItem, {\n    button: true,\n    component: \"a\",\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 12\n  }, this);\n}\n\n_c = ListItemLink;\nconst tileData = [{\n  img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\n  title: 'Image',\n  author: 'author'\n}, {\n  img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\n  title: 'Image',\n  author: 'author'\n}, {\n  img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\n  title: 'Image',\n  author: 'author'\n}, {\n  img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\n  title: 'Image',\n  author: 'author'\n}, {\n  img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\n  title: 'Image',\n  author: 'author'\n}, {\n  img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\n  title: 'Image',\n  author: 'author'\n}, {\n  img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\n  title: 'Image',\n  author: 'author'\n}, {\n  img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\n  title: 'Image',\n  author: 'author'\n}, {\n  img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\n  title: 'Image',\n  author: 'author'\n}, {\n  img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\n  title: 'Image',\n  author: 'author'\n}, {\n  img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\n  title: 'Image',\n  author: 'author'\n}];\nexport function Market(props) {\n  _s();\n\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const dispatch = useDispatch();\n  const foods = useSelector(state => state.food.foods);\n  const stripe = window.Stripe(\"pk_test_51InPLOKD93gQZ0sCgoMYndjVUFg5npwtEs0vTtStWRbRNCo1xpVJ0tu6SB0xWDY8rVJwtkCEBj9NgIei9gnqLW9g00kzNEgQtH\");\n  useEffect(() => {\n    dispatch(foodAction.getAllFoods());\n  }, []);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const bookFood = async foodId => {\n    try {\n      const session = await axios.get(`http://localhost:8000/api/bookings/checkoutSession/${foodId}`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem(\"user\")).token\n        }\n      });\n      await stripe.redirectToCheckout({\n        sessionId: session.data.session.id\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        className: classes.nonePadding,\n        children: /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        style: {\n          marginTop: \"100px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            xs: 2,\n            children: /*#__PURE__*/_jsxDEV(List, {\n              component: \"nav\",\n              \"aria-label\": \"secondary mailbox folders\",\n              children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                button: true,\n                children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: \"\\u0110\\u0103ng \\u0111\\u1ED3 \\u0103n\",\n                  onClick: handleClickOpen\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ListItemLink, {\n                href: \"#simple-list\",\n                children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: \"Tr\\u1EDF l\\u1EA1i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            xs: 10,\n            children: /*#__PURE__*/_jsxDEV(GridList, {\n              cellHeight: 180,\n              className: classes.gridList,\n              cols: 4,\n              children: foods.length > 0 && foods.map(food => /*#__PURE__*/_jsxDEV(GridListTile, {\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: food.photo,\n                  alt: food.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(GridListTileBar, {\n                  title: food.name,\n                  subtitle: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      children: food.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 158,\n                      columnNumber: 80\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [\"Gi\\xE1 \", food.price]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 159,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 55\n                  }, this),\n                  actionIcon: /*#__PURE__*/_jsxDEV(IconButton, {\n                    className: classes.icon,\n                    onClick: () => bookFood(food._id),\n                    children: /*#__PURE__*/_jsxDEV(AddShoppingCartIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 41\n                }, this)]\n              }, food.photo, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"form-dialog-title\",\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        id: \"form-dialog-title\",\n        children: \"\\u0110\\u0103ng \\u0111\\u1ED3 \\u0103n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(DialogContentText, {\n          children: \"Nh\\u1EADp th\\xF4ng tin \\u0111\\u1ED3 \\u0103n b\\u1EA1n mu\\u1ED1n b\\xE1n.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"name\",\n          label: \"T\\xEAn\",\n          type: \"text\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"description\",\n          label: \"M\\xF4 t\\u1EA3\",\n          type: \"text\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"price\",\n          label: \"Gi\\xE1 ti\\u1EC1n\",\n          type: \"text\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          autoFocus: true,\n          margin: \"dense\",\n          id: \"photo\",\n          label: \"\\u1EA2nh\",\n          type: \"text\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"primary\",\n          children: \"Hu\\u1EF7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClose,\n          color: \"primary\",\n          children: \"\\u0110\\u0103ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Market, \"98GVl0LU3JJUbUF6phJ4hvLJxXQ=\", false, function () {\n  return [useStyles, useDispatch, useSelector];\n});\n\n_c2 = Market;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ListItemLink\");\n$RefreshReg$(_c2, \"Market\");","map":{"version":3,"sources":["D:/LVTN/LVTN/cuisine-net/src/pages/market/market.js"],"names":["React","useEffect","Container","Grid","Header","makeStyles","Button","GridList","GridListTile","GridListTileBar","IconButton","AddShoppingCartIcon","List","ListItem","ListItemText","TextField","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","useDispatch","useSelector","foodAction","axios","useStyles","theme","nonePadding","padding","icon","color","ListItemLink","props","tileData","img","title","author","Market","classes","open","setOpen","useState","dispatch","foods","state","food","stripe","window","Stripe","getAllFoods","handleClickOpen","handleClose","bookFood","foodId","session","get","headers","JSON","parse","localStorage","getItem","token","redirectToCheckout","sessionId","data","id","err","console","log","marginTop","gridList","length","map","photo","name","description","price","_id"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Container, Grid } from '@material-ui/core';\r\nimport { Header } from './../../components/header/Header';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from '@material-ui/core/Button';\r\nimport GridList from '@material-ui/core/GridList';\r\nimport GridListTile from '@material-ui/core/GridListTile';\r\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddShoppingCartIcon from '@material-ui/icons/AddShoppingCart';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { foodAction } from '../../actions/food.action';\r\nimport axios from 'axios';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    nonePadding: {\r\n        padding: \"0!important\"\r\n    },\r\n    icon: {\r\n        color: 'rgba(255, 255, 255, 0.54)',\r\n    },\r\n}));\r\n\r\nfunction ListItemLink(props) {\r\n    return <ListItem button component=\"a\" {...props} />;\r\n}\r\n\r\nconst tileData = [\r\n    {\r\n        img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\r\n        title: 'Image',\r\n        author: 'author',\r\n    },\r\n    {\r\n        img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\r\n        title: 'Image',\r\n        author: 'author',\r\n    },\r\n    {\r\n        img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\r\n        title: 'Image',\r\n        author: 'author',\r\n    },\r\n    {\r\n        img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\r\n        title: 'Image',\r\n        author: 'author',\r\n    },\r\n    {\r\n        img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\r\n        title: 'Image',\r\n        author: 'author',\r\n    },\r\n    {\r\n        img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\r\n        title: 'Image',\r\n        author: 'author',\r\n    },\r\n    {\r\n        img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\r\n        title: 'Image',\r\n        author: 'author',\r\n    },\r\n    {\r\n        img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\r\n        title: 'Image',\r\n        author: 'author',\r\n    },\r\n    {\r\n        img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\r\n        title: 'Image',\r\n        author: 'author',\r\n    },\r\n    {\r\n        img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\r\n        title: 'Image',\r\n        author: 'author',\r\n    }, {\r\n        img: 'https://res.cloudinary.com/elca/image/upload/v1618641272/gldei3c63jv9xewpzhmx.jpg',\r\n        title: 'Image',\r\n        author: 'author',\r\n    },\r\n];\r\n\r\n\r\nexport function Market(props) {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const dispatch = useDispatch();\r\n    const foods = useSelector(state => state.food.foods);\r\n\r\n    const stripe = window.Stripe(\"pk_test_51InPLOKD93gQZ0sCgoMYndjVUFg5npwtEs0vTtStWRbRNCo1xpVJ0tu6SB0xWDY8rVJwtkCEBj9NgIei9gnqLW9g00kzNEgQtH\");\r\n\r\n    useEffect(() => {\r\n        dispatch(foodAction.getAllFoods());\r\n    }, []);\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const bookFood = async foodId => {\r\n        try {\r\n            const session = await axios.get(`http://localhost:8000/api/bookings/checkoutSession/${foodId}`, {\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                    'Authorization': 'Bearer ' + JSON.parse(localStorage.getItem(\"user\")).token\r\n                }\r\n            });\r\n\r\n            await stripe.redirectToCheckout({\r\n                sessionId: session.data.session.id\r\n            });\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    }\r\n    return (\r\n        <Container>\r\n            <Grid container spacing={3} >\r\n                <Grid item xs={12} className={classes.nonePadding}>\r\n                    <Header></Header>\r\n                </Grid>\r\n                <Grid container style={{ marginTop: \"100px\" }}>\r\n                    <Grid container>\r\n                        <Grid xs={2}>\r\n                            <List component=\"nav\" aria-label=\"secondary mailbox folders\">\r\n                                <ListItem button>\r\n                                    <ListItemText primary=\"Đăng đồ ăn\" onClick={handleClickOpen} />\r\n                                </ListItem>\r\n                                <ListItemLink href=\"#simple-list\">\r\n                                    <ListItemText primary=\"Trở lại\" />\r\n                                </ListItemLink>\r\n                            </List>\r\n                        </Grid>\r\n                        <Grid xs={10}>\r\n                            <GridList cellHeight={180} className={classes.gridList} cols={4}>\r\n                                {foods.length > 0 && foods.map(food => (\r\n                                    <GridListTile key={food.photo}>\r\n                                        <img src={food.photo} alt={food.name} />\r\n                                        <GridListTileBar\r\n                                            title={food.name}\r\n                                            subtitle={<div>\r\n                                                <span>{food.description}</span><br/>\r\n                                                <span>Giá {food.price}</span>\r\n                                            </div>\r\n                                            }\r\n                                            actionIcon={\r\n                                                <IconButton className={classes.icon} onClick={() => bookFood(food._id)}>\r\n                                                    <AddShoppingCartIcon />\r\n                                                </IconButton>\r\n                                            }\r\n                                        />\r\n                                    </GridListTile>\r\n                                ))}\r\n                            </GridList>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n            <Dialog open={open} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\r\n                <DialogTitle id=\"form-dialog-title\">Đăng đồ ăn</DialogTitle>\r\n                <DialogContent>\r\n                    <DialogContentText>\r\n                        Nhập thông tin đồ ăn bạn muốn bán.\r\n                    </DialogContentText>\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"name\"\r\n                        label=\"Tên\"\r\n                        type=\"text\"\r\n                        fullWidth\r\n                    />\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"description\"\r\n                        label=\"Mô tả\"\r\n                        type=\"text\"\r\n                        fullWidth\r\n                    />\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"price\"\r\n                        label=\"Giá tiền\"\r\n                        type=\"text\"\r\n                        fullWidth\r\n                    />\r\n                    <TextField\r\n                        autoFocus\r\n                        margin=\"dense\"\r\n                        id=\"photo\"\r\n                        label=\"Ảnh\"\r\n                        type=\"text\"\r\n                        fullWidth\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Huỷ\r\n                    </Button>\r\n                    <Button onClick={handleClose} color=\"primary\">\r\n                        Đăng\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </Container >\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}